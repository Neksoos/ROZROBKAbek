from __future__ import annotations

from typing import List, Dict, Any

from db import get_pool

# –û–§–Ü–¶–Ü–ô–ù–Ü –†–Ü–í–ù–Ü –†–Ü–î–ö–û–°–¢–Ü:
# –ó–≤–∏—á–∞–π–Ω–∏–π, –î–æ–±—Ä–æ—Ç–Ω–∏–π, –†—ñ–¥–∫—ñ—Å–Ω–∏–π, –í–∏–±—Ä–∞–Ω–∏–π, –û–±–µ—Ä–µ–≥–æ–≤–∏–π, –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π

UPSERT_RESOURCE_SQL = """
INSERT INTO items (
    code,
    name,
    descr,
    stack_max,
    weight,
    tradable,
    bind_on_pickup,
    rarity,
    npc_key,
    category
)
VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10)
ON CONFLICT (code) DO UPDATE SET
  name           = EXCLUDED.name,
  descr          = EXCLUDED.descr,
  stack_max      = EXCLUDED.stack_max,
  weight         = EXCLUDED.weight,
  tradable       = EXCLUDED.tradable,
  bind_on_pickup = EXCLUDED.bind_on_pickup,
  rarity         = EXCLUDED.rarity,
  npc_key        = EXCLUDED.npc_key,
  category       = EXCLUDED.category,
  updated_at     = now();
"""


# ---------------------------------------------------------------------------
# –ó–ë–ò–†–ê–õ–¨–ù–Ü –ü–†–û–§–ï–°–Ü–á: –¢–†–ê–í–ù–ò–ö (herb) + –ì–Ü–†–ù–ò–ß–ò–ô (ore)
# ---------------------------------------------------------------------------

GATHERING_RESOURCES: List[Dict[str, Any]] = [

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –ó–í–ò–ß–ê–ô–ù–ò–ô (common)
    # -----------------------------------------------------------------------
    {
        "code": "herb_romashka_poleva",
        "name": "–†–æ–º–∞—à–∫–∞ –ø–æ–ª—å–æ–≤–∞",
        "descr": "–ó–≤–∏—á–∞–π–Ω–∞ –ø–æ–ª—å–æ–≤–∞ —Ä–æ–º–∞—à–∫–∞, –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ—Å—Ç–∏—Ö –Ω–∞—Å—Ç–æ—ó–≤.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "herb_common",
    },
    {
        "code": "herb_podorozhnyk_shyrokyi",
        "name": "–ü–æ–¥–æ—Ä–æ–∂–Ω–∏–∫ —à–∏—Ä–æ–∫–∏–π",
        "descr": "–õ–∏—Å—Ç—è –ø–æ–¥–æ—Ä–æ–∂–Ω–∏–∫–∞, —è–∫–∏–º —É —Å–µ–ª–∞—Ö –ø—Ä–∏–∫–ª–∞–¥–∞—é—Ç—å —Ä–∞–Ω–∏ –π —Å–∞–¥–Ω–∞.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "herb_common",
    },
    {
        "code": "herb_kropyva_dvodomna",
        "name": "–ö—Ä–æ–ø–∏–≤–∞ –¥–≤–æ–¥–æ–º–Ω–∞",
        "descr": "–ü–µ–∫—É—á–∞ –∫—Ä–æ–ø–∏–≤–∞, –∫–æ—Ä–∏—Å–Ω–∞ –¥–ª—è –≤—ñ–¥–≤–∞—Ä—ñ–≤ –∫—Ä–æ–≤—ñ —Ç–∞ —Å–∏–ª–∏.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "herb_common",
    },
    {
        "code": "herb_polyn_zvychainyi",
        "name": "–ü–æ–ª–∏–Ω –∑–≤–∏—á–∞–π–Ω–∏–π",
        "descr": "–ì—ñ—Ä–∫–∏–π –ø–æ–ª–∏–Ω, —â–æ –ø—Ä–æ–≥–∞–Ω—è—î —Å–ª–∞–±–∫—ñ—Å—Ç—å —ñ –∑–ª—ñ –¥—É—Ö–∏.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "herb_common",
    },
    {
        "code": "herb_lopukh_velykyi",
        "name": "–õ–æ–ø—É—Ö –≤–µ–ª–∏–∫–∏–π",
        "descr": "–í–µ–ª–∏–∫–µ –ª–∏—Å—Ç—è –ª–æ–ø—É—Ö–∞, –∑ —è–∫–æ–≥–æ —Ä–æ–±–ª—è—Ç—å –∫–æ–º–ø—Ä–µ—Å–∏ –π –ø—Ä–∏–º–æ—á–∫–∏.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "herb_common",
    },

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –î–û–ë–†–û–¢–ù–ò–ô (uncommon)
    # -----------------------------------------------------------------------
    {
        "code": "herb_zvirobii_zvychainyi",
        "name": "–ó–≤—ñ—Ä–æ–±—ñ–π –∑–≤–∏—á–∞–π–Ω–∏–π",
        "descr": "–¢—Ä–∞–≤–∞ –≤—ñ–¥ –ø–µ—Ä–µ–ª—è–∫—É –π —Å–º—É—Ç–∫—É, —Å—É—à–∞—Ç—å –ø—ñ–¥ —Å—Ç—Ä—ñ—Ö–æ—é.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "herb_uncommon",
    },
    {
        "code": "herb_miata_poleva",
        "name": "–ú‚Äô—è—Ç–∞ –ø–æ–ª—å–æ–≤–∞",
        "descr": "–ó–∞–ø–∞—à–Ω–∞ –º‚Äô—è—Ç–∞ –¥–ª—è –Ω–∞—Å—Ç–æ—ó–≤, —â–æ –æ—Å–≤—ñ–∂–∞—é—Ç—å –≥–æ–ª–æ–≤—É.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "herb_uncommon",
    },
    {
        "code": "herb_chebrets_povzuchyi",
        "name": "–ß–µ–±—Ä–µ—Ü—å –ø–æ–≤–∑—É—á–∏–π",
        "descr": "–ù–∏–∑—å–∫–∞ —Ç—Ä–∞–≤–∞ –∑ –º—ñ—Ü–Ω–∏–º –∑–∞–ø–∞—Ö–æ–º, –¥–æ–¥–∞—é—Ç—å —É –ª—ñ–∫—É–≤–∞–ª—å–Ω—ñ —á–∞—ó.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "herb_uncommon",
    },
    {
        "code": "herb_materynka_lisova",
        "name": "–ú–∞—Ç–µ—Ä–∏–Ω–∫–∞ –ª—ñ—Å–æ–≤–∞",
        "descr": "–õ—ñ—Å–æ–≤–∞ –º–∞—Ç–µ—Ä–∏–Ω–∫–∞, —è–∫—É –∫–ª–∞–¥—É—Ç—å —É –ø–æ–¥—É—à–∫–∏ —è–∫ –æ–±–µ—Ä—ñ–≥.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "herb_uncommon",
    },
    {
        "code": "herb_derevii_zapashnyi",
        "name": "–î–µ—Ä–µ–≤—ñ–π –∑–∞–ø–∞—à–Ω–∏–π",
        "descr": "–î—Ä—ñ–±–Ω–∞ —Ç—Ä–∞–≤–∞ –¥–ª—è –≤‚Äô—è–ª–µ–Ω–Ω—è —Ä–∞–Ω —ñ –∑–º—ñ—Ü–Ω–µ–Ω–Ω—è –∫—Ä–æ–≤—ñ.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "herb_uncommon",
    },

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –†–Ü–î–ö–Ü–°–ù–ò–ô (rare)
    # -----------------------------------------------------------------------
    {
        "code": "herb_miata_lisova_temna",
        "name": "–ú‚Äô—è—Ç–∞ –ª—ñ—Å–æ–≤–∞ —Ç–µ–º–Ω–∞",
        "descr": "–¢–µ–º–Ω–µ –ª–∏—Å—Ç—è –º‚Äô—è—Ç–∏, —â–æ —Ä–æ—Å—Ç–µ –≤ –∑–∞—Ç—ñ–Ω–µ–Ω–∏—Ö —è—Ä–∞—Ö.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "herb_rare",
    },
    {
        "code": "herb_horytsvit_vesnianyi",
        "name": "–ì–æ—Ä–∏—Ü–≤—ñ—Ç –≤–µ—Å–Ω—è–Ω–∏–π",
        "descr": "–ñ–æ–≤—Ç–∞ –∫–≤—ñ—Ç–∫–∞, —â–æ –∑‚Äô—è–≤–ª—è—î—Ç—å—Å—è —Ä–∞–Ω–æ –Ω–∞–≤–µ—Å–Ω—ñ –Ω–∞ —Å—Ö–∏–ª–∞—Ö.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "herb_rare",
    },
    {
        "code": "herb_verbena_likarska",
        "name": "–í–µ—Ä–±–µ–Ω–∞ –ª—ñ–∫–∞—Ä—Å—å–∫–∞",
        "descr": "–¢—Ä–∞–≤–∞, —è–∫–æ—é –ª—ñ–∫—É—é—Ç—å –≤—Ç–æ–º—É –π –Ω–µ—Ä–≤–∏.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "herb_rare",
    },
    {
        "code": "herb_valeriana_lisova",
        "name": "–í–∞–ª–µ—Ä—ñ–∞–Ω–∞ –ª—ñ—Å–æ–≤–∞",
        "descr": "–ö–æ—Ä—ñ–Ω—å –≤–∞–ª–µ—Ä—ñ–∞–Ω–∏, —è–∫–∏–π —Å—É—à–∞—Ç—å –¥–ª—è –≤—ñ–¥–≤–∞—Ä—ñ–≤ –≤—ñ–¥ —Ç—Ä–∏–≤–æ–≥–∏.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "herb_rare",
    },
    {
        "code": "herb_diahyl_aromatnyi",
        "name": "–î—è–≥–∏–ª—å –∞—Ä–æ–º–∞—Ç–Ω–∏–π",
        "descr": "–°–∏–ª—å–Ω–∞ —Ç—Ä–∞–≤–∞ –∑ –≥—É—Å—Ç–∏–º –∑–∞–ø–∞—Ö–æ–º, —Ä–æ—Å—Ç–µ –Ω–∞ –≤–æ–ª–æ–≥–∏—Ö –ª—É–∫–∞—Ö.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "herb_rare",
    },

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –í–ò–ë–†–ê–ù–ò–ô (epic)
    # -----------------------------------------------------------------------
    {
        "code": "herb_kryvavytsia_chervona",
        "name": "–ö—Ä–∏–≤–∞–≤–∏—Ü—è —á–µ—Ä–≤–æ–Ω–∞",
        "descr": "–¢—Ä–∞–≤–∞ –∑ —á–µ—Ä–≤–æ–Ω–∏–º–∏ —Å—Ç–µ–±–ª–∞–º–∏, —è–∫—É —à–∞–Ω—É—é—Ç—å –∑–∞ —Å–∏–ª—É –∫—Ä–æ–≤—ñ.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "herb_epic",
    },
    {
        "code": "herb_zolototysiachnyk_spravzhnii",
        "name": "–ó–æ–ª–æ—Ç–æ—Ç–∏—Å—è—á–Ω–∏–∫ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π",
        "descr": "–ì—ñ—Ä–∫–∞ —Ç—Ä–∞–≤–∞ –¥–ª—è –º—ñ—Ü–Ω–∏—Ö –ª—ñ–∫—É–≤–∞–ª—å–Ω–∏—Ö –Ω–∞—Å—Ç–æ—ó–≤.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "herb_epic",
    },
    {
        "code": "herb_shafran_hirskyi",
        "name": "–®–∞—Ñ—Ä–∞–Ω –≥—ñ—Ä—Å—å–∫–∏–π",
        "descr": "–†—ñ–¥–∫—ñ—Å–Ω—ñ —Ç–∏—á–∏–Ω–∫–∏, —â–æ –∑–±–∏—Ä–∞—é—Ç—å –≤—Ä—É—á–Ω—É –Ω–∞ –≥—ñ—Ä—Å—å–∫–∏—Ö –ª—É–∫–∞—Ö.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "herb_epic",
    },
    {
        "code": "herb_air_bolotianyi",
        "name": "–ê—ó—Ä –±–æ–ª–æ—Ç—è–Ω–∏–π",
        "descr": "–ö–æ—Ä—ñ–Ω—å –∞—ó—Ä—É –∑ —Ç—Ä—è—Å–æ–≤–∏–Ω, –æ—á–∏—â—É—î –π –∑–º—ñ—Ü–Ω—é—î –Ω—É—Ç—Ä–æ—â—ñ.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "herb_epic",
    },
    {
        "code": "herb_kalhan_likarskyi",
        "name": "–ö–∞–ª–≥–∞–Ω –ª—ñ–∫–∞—Ä—Å—å–∫–∏–π",
        "descr": "–ö–æ—Ä—ñ–Ω—å, —è–∫–∏–π –¥–æ–¥–∞—é—Ç—å —É –Ω–∞—Å—Ç–æ—è–Ω–∫–∏ –¥–ª—è —Å–∏–ª–∏ –π —Ç–µ–ø–ª–∞.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "herb_epic",
    },

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –û–ë–ï–†–ï–ì–û–í–ò–ô (legendary)
    # -----------------------------------------------------------------------
    {
        "code": "herb_materynka_dukhmiana",
        "name": "–ú–∞—Ç–µ—Ä–∏–Ω–∫–∞ –¥—É—Ö–º—è–Ω–∞",
        "descr": "–ó–∞–ø–∞—à–Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω–∫–∞, —â–æ —Å–ª—É–∂–∏—Ç—å —Ö–∞—Ç–Ω—ñ–º –æ–±–µ—Ä–µ–≥–æ–º.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "herb_legendary",
    },
    {
        "code": "herb_bilozir_bolotianyi",
        "name": "–ë—ñ–ª–æ–∑—ñ—Ä –±–æ–ª–æ—Ç—è–Ω–∏–π",
        "descr": "–¢–æ–Ω–∫—ñ –±—ñ–ª—ñ –∫–≤—ñ—Ç–∏ –∑ –±–æ–ª—ñ—Ç, –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å —É —Ç–æ–Ω–∫–∏—Ö –∑—ñ–ª–ª—è—Ö.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "herb_legendary",
    },
    {
        "code": "herb_rodiola_rozheva",
        "name": "–†–æ–¥—ñ–æ–ª–∞ —Ä–æ–∂–µ–≤–∞",
        "descr": "–ö–æ—Ä—ñ–Ω—å, —â–æ –¥–æ–¥–∞—î –≤–∏—Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –π —è—Å–Ω–æ—Å—Ç—ñ —Ä–æ–∑—É–º—É.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "herb_legendary",
    },
    {
        "code": "herb_barvinok_lisovyi",
        "name": "–ë–∞—Ä–≤—ñ–Ω–æ–∫ –ª—ñ—Å–æ–≤–∏–π",
        "descr": "–í—ñ—á–Ω–æ–∑–µ–ª–µ–Ω–∞ —Ç—Ä–∞–≤–∞, —è–∫—É –≤–ø–ª—ñ—Ç–∞—é—Ç—å –≤ –æ–±–µ—Ä–µ–≥–∏ —Ç–∞ –≤—ñ–Ω–∫–∏.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "herb_legendary",
    },
    {
        "code": "herb_tys_yahidnyi",
        "name": "–¢–∏—Å —è–≥—ñ–¥–Ω–∏–π",
        "descr": "–°–≤—è—â–µ–Ω–Ω–µ –¥–µ—Ä–µ–≤–æ, –æ—Ç—Ä—É–π–Ω–µ –π —Å–∏–ª—å–Ω–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–±–µ—Ä–µ–∂–Ω–æ.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "herb_legendary",
    },

    # -----------------------------------------------------------------------
    # üåø –¢–†–ê–í–ù–ò–ö ‚Äî –ë–û–ñ–ï–°–¢–í–ï–ù–ù–ò–ô (mythic)
    # -----------------------------------------------------------------------
    {
        "code": "herb_perun_trava",
        "name": "–ü–µ—Ä—É–Ω-—Ç—Ä–∞–≤–∞",
        "descr": "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞ —Ç—Ä–∞–≤–∞ –≥—Ä–æ–º—É, —è–∫—É –∑–Ω–∞—Ö–æ–¥—è—Ç—å –ø—ñ—Å–ª—è –±—É—Ä—ñ –±—ñ–ª—è –∫–∞–º–µ–Ω—ñ–≤.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "herb_mythic",
    },
    {
        "code": "herb_kupalnytsia_zolotysta",
        "name": "–ö—É–ø–∞–ª—å–Ω–∏—Ü—è –∑–æ–ª–æ—Ç–∏—Å—Ç–∞",
        "descr": "–ö–≤—ñ—Ç–∫–∞, —è–∫—É —à—É–∫–∞—é—Ç—å —É –Ω—ñ—á –Ω–∞ –ö—É–ø–∞–ª–∞ –¥–ª—è –Ω–∞–π—Å–∏–ª—å–Ω—ñ—à–∏—Ö –∑—ñ–ª—å.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "herb_mythic",
    },
    {
        "code": "herb_troyan_zillia",
        "name": "–¢—Ä–æ—è–Ω-–∑—ñ–ª–ª—è",
        "descr": "–°—Ç–∞—Ä–æ–¥–∞–≤–Ω—î —á–∞—Ä-–∑—ñ–ª–ª—è, –ø—Ä–æ —è–∫–µ —à–µ–ø–æ—á—É—Ç—å —Å—Ç–∞—Ä—ñ –º–æ–ª—å—Ñ–∞—Ä–∏.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "herb_mythic",
    },
    {
        "code": "herb_son_trava",
        "name": "–°–æ–Ω-—Ç—Ä–∞–≤–∞",
        "descr": "–†—ñ–¥–∫—ñ—Å–Ω–∞ –∫–≤—ñ—Ç–∫–∞, —â–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –≥–ª–∏–±–æ–∫–∏–π —Å–æ–Ω —ñ –¥–∏–≤–Ω—ñ –≤–∏–¥—ñ–Ω–Ω—è.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "herb_mythic",
    },
    {
        "code": "herb_liubystok_sviashchennyi",
        "name": "–õ—é–±–∏—Å—Ç–æ–∫ —Å–≤—è—â–µ–Ω–Ω–∏–π",
        "descr": "–¢—Ä–∞–≤—É –∫–ª–∞–¥—É—Ç—å —É –≤–æ–¥—É –π –Ω–∞—Å—Ç–æ—ó, —â–æ–± –ø—Ä–∏–∫–ª–∏–∫–∞—Ç–∏ –ø—Ä–∏—Ö–∏–ª—å–Ω—ñ—Å—Ç—å.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "herb_mythic",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –ó–í–ò–ß–ê–ô–ù–ò–ô (common)
    # -----------------------------------------------------------------------
    {
        "code": "ore_ruda_zalizna",
        "name": "–†—É–¥–∞ –∑–∞–ª—ñ–∑–Ω–∞",
        "descr": "–ó–≤–∏—á–∞–π–Ω–∞ –∑–∞–ª—ñ–∑–Ω–∞ —Ä—É–¥–∞, –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ—Å—Ç–æ—ó –∑–±—Ä–æ—ó —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "ore_common",
    },
    {
        "code": "ore_kamin_richkovyi",
        "name": "–ö–∞–º—ñ–Ω—å —Ä—ñ—á–∫–æ–≤–∏–π",
        "descr": "–ì–ª–∞–¥–∫–∏–π –∫–∞–º—ñ–Ω—å —ñ–∑ —Ä—É—Å–ª–∞ —Ä—ñ—á–∫–∏, –≥–æ–¥–∏—Ç—å—Å—è –Ω–∞ –±—É–¥–æ–≤—É –π —Ä–µ–º–µ—Å–ª–æ.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "ore_common",
    },
    {
        "code": "ore_kremin_temnyi",
        "name": "–ö—Ä–µ–º—ñ–Ω—å —Ç–µ–º–Ω–∏–π",
        "descr": "–¢–≤–µ—Ä–¥–∏–π –∫—Ä–µ–º—ñ–Ω—å –¥–ª—è –∫—Ä–µ—Å–∞–ª–∞ –π –ø—Ä–æ—Å—Ç–∏—Ö –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫—ñ–≤.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "ore_common",
    },
    {
        "code": "ore_hlyna_vazhka",
        "name": "–ì–ª–∏–Ω–∞ –≤–∞–∂–∫–∞",
        "descr": "–ì—Ä—É–±–∞ –≥–ª–∏–Ω–∞ –¥–ª—è —Ü–µ–≥–ª–∏, –ø–æ—Å—É–¥—É —Ç–∞ –ø—ñ—á–Ω–æ–≥–æ –¥—ñ–ª–∞.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "ore_common",
    },
    {
        "code": "ore_pisok_hrubyi",
        "name": "–ü—ñ—Å–æ–∫ –≥—Ä—É–±–∏–π",
        "descr": "–ö—Ä—É–ø–Ω–æ–∑–µ—Ä–Ω–∏—Å—Ç–∏–π –ø—ñ—Å–æ–∫ –¥–ª—è –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞ –π –ª–∏–≤–∞—Ä–Ω–∏—Ö —Ñ–æ—Ä–º.",
        "rarity": "–ó–≤–∏—á–∞–π–Ω–∏–π",
        "category": "ore_common",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –î–û–ë–†–û–¢–ù–ò–ô (uncommon)
    # -----------------------------------------------------------------------
    {
        "code": "ore_vapniak_svitlyi",
        "name": "–í–∞–ø–Ω—è–∫ —Å–≤—ñ—Ç–ª–∏–π",
        "descr": "–°–≤—ñ—Ç–ª–∏–π –∫–∞–º—ñ–Ω—å, —â–æ –π–¥–µ –Ω–∞ –≤–∞–ø–Ω–æ —Ç–∞ –º—ñ—Ü–Ω—ñ —Å—Ç—ñ–Ω–∏.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "ore_uncommon",
    },
    {
        "code": "ore_piskovyk_mitsnyi",
        "name": "–ü—ñ—Å–∫–æ–≤–∏–∫ –º—ñ—Ü–Ω–∏–π",
        "descr": "–©—ñ–ª—å–Ω–∏–π –∫–∞–º—ñ–Ω—å –¥–ª—è —Å—Ç—É–ø, –∂–æ—Ä–µ–Ω —Ç–∞ –æ–ø–æ—Ä.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "ore_uncommon",
    },
    {
        "code": "ore_hranit_siryi",
        "name": "–ì—Ä–∞–Ω—ñ—Ç —Å—ñ—Ä–∏–π",
        "descr": "–¢–≤–µ—Ä–¥–∏–π –≥—Ä–∞–Ω—ñ—Ç, —â–æ —Ç—Ä–∏–º–∞—î —É–¥–∞—Ä —ñ –≤–∞–≥—É.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "ore_uncommon",
    },
    {
        "code": "ore_midna_zhyla",
        "name": "–ú—ñ–¥–Ω–∞ –∂–∏–ª–∞",
        "descr": "–í–∫—Ä–∞–ø–ª–µ–Ω–Ω—è –º—ñ–¥—ñ –≤ –ø–æ—Ä–æ–¥—ñ, —Ü—ñ–Ω—É—î—Ç—å—Å—è –∫–æ–≤–∞–ª—è–º–∏ –π –º–∞–π—Å—Ç—Ä–∞–º–∏.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "ore_uncommon",
    },
    {
        "code": "ore_vuhilna_zhyla",
        "name": "–í—É–≥—ñ–ª—å–Ω–∞ –∂–∏–ª–∞",
        "descr": "–®–∞—Ä –≤—É–≥—ñ–ª–ª—è, –±–µ–∑ —è–∫–æ–≥–æ –Ω–µ —Ä–æ–∑–ø–∞–ª–∏—Ç–∏ –º—ñ—Ü–Ω—É –≥–æ—Ä–Ω–æ.",
        "rarity": "–î–æ–±—Ä–æ—Ç–Ω–∏–π",
        "category": "ore_uncommon",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –†–Ü–î–ö–Ü–°–ù–ò–ô (rare)
    # -----------------------------------------------------------------------
    {
        "code": "ore_marhantseva_ruda",
        "name": "–ú–∞—Ä–≥–∞–Ω—Ü–µ–≤–∞ —Ä—É–¥–∞",
        "descr": "–¢–µ–º–Ω–∞ —Ä—É–¥–∞, —â–æ –¥–æ–¥–∞—î –º—ñ—Ü–Ω–æ—Å—Ç—ñ —Å—Ç–∞–ª—ñ.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "ore_rare",
    },
    {
        "code": "ore_kvartc_prozorii",
        "name": "–ö–≤–∞—Ä—Ü –ø—Ä–æ–∑–æ—Ä–∏–π",
        "descr": "–ß–∏—Å—Ç–∏–π –ø—Ä–æ–∑–æ—Ä–∏–π –∫–≤–∞—Ä—Ü, —â–æ —Ü—ñ–Ω—É—î—Ç—å—Å—è —é–≤–µ–ª—ñ—Ä–∞–º–∏.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "ore_rare",
    },
    {
        "code": "ore_oniks_temnyi",
        "name": "–û–Ω—ñ–∫—Å —Ç–µ–º–Ω–∏–π",
        "descr": "–¢–µ–º–Ω–∏–π –∫–∞–º—ñ–Ω—å —ñ–∑ –≥–ª–∏–±–æ–∫–∏–º –±–ª–∏—Å–∫–æ–º, —Ä—ñ–¥–∫–æ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "ore_rare",
    },
    {
        "code": "ore_kaltsyt_chystyi",
        "name": "–ö–∞–ª—å—Ü–∏—Ç —á–∏—Å—Ç–∏–π",
        "descr": "–°–≤—ñ—Ç–ª–∏–π –∫—Ä–∏—Å—Ç–∞–ª—ñ—á–Ω–∏–π –∫–∞–º—ñ–Ω—å –¥–ª—è —Ç–æ–Ω–∫–æ—ó –æ–±—Ä–æ–±–∫–∏.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "ore_rare",
    },
    {
        "code": "ore_lymonit_zhovtyi",
        "name": "–õ–∏–º–æ–Ω—ñ—Ç –∂–æ–≤—Ç–∏–π",
        "descr": "–ñ–æ–≤—Ç–∞ —Ä—É–¥–∞, –∑ —è–∫–æ—ó –¥–æ–±—É–≤–∞—é—Ç—å –∑–∞–ª—ñ–∑–æ –π –±–∞—Ä–≤–Ω–∏–∫.",
        "rarity": "–†—ñ–¥–∫—ñ—Å–Ω–∏–π",
        "category": "ore_rare",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –í–ò–ë–†–ê–ù–ò–ô (epic)
    # -----------------------------------------------------------------------
    {
        "code": "ore_krytcovyi_kamin",
        "name": "–ö—Ä–∏—Ü–µ–≤–∏–π –∫–∞–º—ñ–Ω—å",
        "descr": "–ü–æ—Ä–æ–¥–∏ –∑ –≤–∫—Ä–∞–ø–ª–µ–Ω–Ω—è–º–∏ –∫—Ä–∏—Ü—ñ –¥–ª—è –Ω–∞–π–∫—Ä–∞—â–æ—ó –∑–±—Ä–æ—ó.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "ore_epic",
    },
    {
        "code": "ore_lazuryt_hlybokyi",
        "name": "–õ–∞–∑—É—Ä–∏—Ç –≥–ª–∏–±–æ–∫–∏–π",
        "descr": "–°–∏–Ω—ñ–π –∫–∞–º—ñ–Ω—å —ñ–∑ –∑–æ–ª–æ—Ç–∏—Å—Ç–∏–º–∏ —Ü—è—Ç–∫–∞–º–∏, —Ä—ñ–¥–∫—ñ—Å–Ω–∏–π —ñ –¥–æ—Ä–æ–≥–∏–π.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "ore_epic",
    },
    {
        "code": "ore_rogokamin_synii",
        "name": "–†–æ–≥–æ–∫–∞–º—ñ–Ω—å —Å–∏–Ω—ñ–π",
        "descr": "–°–º—É–≥–∞—Å—Ç–∏–π —Å–∏–Ω—é–≤–∞—Ç–∏–π –∫–∞–º—ñ–Ω—å, —â–æ –¥–æ–±—Ä–µ –ø–æ–ª—ñ—Ä—É—î—Ç—å—Å—è.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "ore_epic",
    },
    {
        "code": "ore_serpentin_zelenyi",
        "name": "–°–µ—Ä–ø–µ–Ω—Ç–∏–Ω –∑–µ–ª–µ–Ω–∏–π",
        "descr": "–ó–µ–ª–µ–Ω–∏–π –∫–∞–º—ñ–Ω—å —ñ–∑ –≤—ñ–∑–µ—Ä—É–Ω–∫–æ–º, —Å—Ö–æ–∂–∏–º –Ω–∞ –∑–º—ñ—ó–Ω—É –ª—É—Å–∫—É.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "ore_epic",
    },
    {
        "code": "ore_biriuza_pryrodna",
        "name": "–ë—ñ—Ä—é–∑–∞ –ø—Ä–∏—Ä–æ–¥–Ω–∞",
        "descr": "–°–ø—Ä–∞–≤–∂–Ω—è –±—ñ—Ä—é–∑–∞, —è–∫—É —Ü—ñ–Ω—É—é—Ç—å —é–≤–µ–ª—ñ—Ä–∏ –π –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫–∏.",
        "rarity": "–í–∏–±—Ä–∞–Ω–∏–π",
        "category": "ore_epic",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –û–ë–ï–†–ï–ì–û–í–ò–ô (legendary)
    # -----------------------------------------------------------------------
    {
        "code": "ore_bilokamin_svitlyi",
        "name": "–ë—ñ–ª–æ–∫–∞–º—ñ–Ω—å —Å–≤—ñ—Ç–ª–∏–π",
        "descr": "–°–≤—ñ—Ç–ª–∏–π –∫–∞–º—ñ–Ω—å, —è–∫–∏–π –∫–ª–∞–¥—É—Ç—å —É —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∏ —è–∫ –æ–±–µ—Ä—ñ–≥.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "ore_legendary",
    },
    {
        "code": "ore_sriblokamin",
        "name": "–°—Ä—ñ–±–ª–æ–∫–∞–º—ñ–Ω—å",
        "descr": "–ü–æ—Ä–æ–¥–∞ –∑—ñ —Å—Ä—ñ–±–ª—è—Å—Ç–∏–º –±–ª–∏—Å–∫–æ–º, –¥–æ–±—Ä–∞ –¥–ª—è —Ç–æ–Ω–∫–æ—ó —Ä–æ–±–æ—Ç–∏.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "ore_legendary",
    },
    {
        "code": "ore_burshtyn_syrtsevyi",
        "name": "–ë—É—Ä—à—Ç–∏–Ω —Å–∏—Ä—Ü–µ–≤–∏–π",
        "descr": "–ù–µ–ø–æ–ª—ñ—Ä—É–≤–∞–Ω–∏–π –±—É—Ä—à—Ç–∏–Ω —ñ–∑ –±–µ—Ä–µ–≥—ñ–≤ –¥–∞–≤–Ω—ñ—Ö –º–æ—Ä—ñ–≤.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "ore_legendary",
    },
    {
        "code": "ore_nefryt_temnyi",
        "name": "–ù–µ—Ñ—Ä–∏—Ç —Ç–µ–º–Ω–∏–π",
        "descr": "–©—ñ–ª—å–Ω–∏–π —Ç–µ–º–Ω–∏–π –∫–∞–º—ñ–Ω—å, —â–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –≤–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "ore_legendary",
    },
    {
        "code": "ore_malakhit_hlybokyi",
        "name": "–ú–∞–ª–∞—Ö—ñ—Ç –≥–ª–∏–±–æ–∫–∏–π",
        "descr": "–ó–µ–ª–µ–Ω–∏–π –∫–∞–º—ñ–Ω—å –∑ –∑–∞–≤–∏—Ö—Ä–µ–Ω–∏–º–∏ –≤—ñ–∑–µ—Ä—É–Ω–∫–∞–º–∏.",
        "rarity": "–û–±–µ—Ä–µ–≥–æ–≤–∏–π",
        "category": "ore_legendary",
    },

    # -----------------------------------------------------------------------
    # ‚õè –ì–Ü–†–ù–ò–ß–ò–ô ‚Äî –ë–û–ñ–ï–°–¢–í–ï–ù–ù–ò–ô (mythic)
    # -----------------------------------------------------------------------
    {
        "code": "ore_hromokamin",
        "name": "–ì—Ä–æ–º–æ–∫–∞–º—ñ–Ω—å",
        "descr": "–ö–∞–º—ñ–Ω—å, —è–∫–∏–π –∑–Ω–∞—Ö–æ–¥—è—Ç—å —Ç–∞–º, –¥–µ –≤–¥–∞—Ä–∏–ª–∞ –±–ª–∏—Å–∫–∞–≤–∫–∞.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "ore_mythic",
    },
    {
        "code": "ore_peruniv_kremin",
        "name": "–ü–µ—Ä—É–Ω—ñ–≤ –∫—Ä–µ–º—ñ–Ω—å",
        "descr": "–ö—Ä–µ–º—ñ–Ω—å —ñ–∑ —Ç—Ä—ñ—â–∏–Ω–∞–º–∏, —Å—Ö–æ–∂–∏–º–∏ –Ω–∞ –≥—Ä–æ–º–æ–≤—ñ –∑–Ω–∞–∫–∏.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "ore_mythic",
    },
    {
        "code": "ore_nebesnyi_kamin",
        "name": "–ù–µ–±–µ—Å–Ω–∏–π –∫–∞–º—ñ–Ω—å",
        "descr": "–¢–µ–º–Ω–∏–π –∫–∞–º—ñ–Ω—å, —â–æ –≤–ø–∞–≤ –∑ –Ω–µ–±–∞, —Ä—ñ–¥–∫—ñ—Å–Ω–∏–π —ñ –≤–∞–∂–∫–∏–π.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "ore_mythic",
    },
    {
        "code": "ore_svitlokamin",
        "name": "–°–≤—ñ—Ç–ª–æ–∫–∞–º—ñ–Ω—å",
        "descr": "–ö—Ä–∏—Å—Ç–∞–ª, —è–∫–∏–π –ª–µ–¥—å-–ª–µ–¥—å —Å–≤—ñ—Ç–∏—Ç—å—Å—è –≤ —Ç–µ–º—Ä—è–≤—ñ.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "ore_mythic",
    },
    {
        "code": "ore_zirkovyi_kvartc",
        "name": "–ó—ñ—Ä–∫–æ–≤–∏–π –∫–≤–∞—Ä—Ü",
        "descr": "–ö–≤–∞—Ä—Ü —ñ–∑ –∑—ñ—Ä—á–∞—Å—Ç–∏–º–∏ –≤—ñ–¥–±–ª–∏—Å–∫–∞–º–∏ –≤ –≥–ª–∏–±–∏–Ω—ñ –∫–∞–º–µ–Ω—é.",
        "rarity": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∏–π",
        "category": "ore_mythic",
    },
]


async def seed_gathering_resources() -> None:
    """
    –ó–∞—Å—ñ–≤–∞—î —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –∑–±–∏—Ä–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ñ–µ—Å—ñ–π (–¢—Ä–∞–≤–Ω–∏–∫ + –ì—ñ—Ä–Ω–∏—á–∏–π) —É —Ç–∞–±–ª–∏—Ü—é items.
    –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Ç–∞–±–ª–∏—Ü—è items –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
    code, name, descr, stack_max, weight, tradable, bind_on_pickup, rarity, npc_key, category, updated_at.
    """
    pool = await get_pool()
    async with pool.acquire() as conn:
        exists = await conn.fetchval("SELECT to_regclass('public.items') IS NOT NULL;")
        if not exists:
            # —è–∫—â–æ —Ç–∞–±–ª–∏—Ü—ñ –Ω–µ–º–∞—î ‚Äì –ø—Ä–æ—Å—Ç–æ –º–æ–≤—á–∫–∏ –≤–∏—Ö–æ–¥–∏–º–æ
            print("[seed_gathering_resources] items table not found, skipping.")
            return

        for item in GATHERING_RESOURCES:
            code = item["code"]
            name = item["name"]
            descr = item.get("descr", "")
            rarity = item["rarity"]
            category = item["category"]

            stack_max = int(item.get("stack_max", 99))
            weight = int(item.get("weight", 1))
            tradable = bool(item.get("tradable", True))
            bind_on_pickup = bool(item.get("bind_on_pickup", False))
            npc_key = item.get("npc_key", "") or ""

            await conn.execute(
                UPSERT_RESOURCE_SQL,
                code,
                name,
                descr,
                stack_max,
                weight,
                tradable,
                bind_on_pickup,
                rarity,
                npc_key,
                category,
            )

        print(f"[seed_gathering_resources] seeded/updated {len(GATHERING_RESOURCES)} items.")